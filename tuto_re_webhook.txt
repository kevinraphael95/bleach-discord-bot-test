📌 **Redémarrage du bot avec redeploy Render via webhook** 🔃

───────────────────────────────
**1️⃣ Créer un webhook Render**

• Connecte-toi à ton compte Render
• Va dans ton service bot
• Clique sur **Settings → Build & Deploy → Deploy Hooks**
• Copie l’URL du deploy hook :
`https://api.render.com/deploy/srv-xxxxxx`
• Optionnel : teste le hook avec un POST depuis ton navigateur ou Postman

───────────────────────────────
**2️⃣ Ajouter les variables d’environnement**

• Dans Render, va dans **Environment → Environment Variables**
• Ajoute une variable pour le webhook :
  RENDER_REDEPLOY_WEBHOOK=https://api.render.com/deploy/srv-xxxxxx
• Pour vérifier que le service est de nouveau actif après le redeploy, ajoute aussi :
  RENDER_SERVICE_API=https://api.render.com/v1/services/srv-xxxxxx

> 🔹 **Comment trouver l’URL `RENDER_SERVICE_API`**
>
> * Va dans ton service sur Render → **Settings** ou **Service Details**
> * Repère l’ID du service (`srv-xxxxxx`)
> * Combine-le avec `https://api.render.com/v1/services/` → tu obtiens l’URL complète

• Sauvegarde et redeploy ton bot une dernière fois pour que les variables soient prises en compte

───────────────────────────────
**3️⃣ Modifier le bot pour utiliser le webhook**

Dans la commande `!re` du bot, ajoute :

```python
self.render_webhook = os.getenv("RENDER_REDEPLOY_WEBHOOK")
self.render_service_api = os.getenv("RENDER_SERVICE_API")
```

Quand `!re` est exécuté :
✅ Le bot prévient les membres que le redeploy est imminent
✅ Envoie la requête au webhook Render
✅ Attend que le service soit de nouveau en ligne et notifie

───────────────────────────────
**4️⃣ Test**

1. Envoie `!re` dans Discord
2. Le bot devrait :

   * 🔔 Prévenir le serveur que le bot va redémarrer
   * 📤 Envoyer la requête au webhook Render
   * ✅ Vérifier que le service est de nouveau actif et notifier la fin du redeploy
3. Dans Render, tu verras le redeploy se lancer et se terminer automatiquement

──────────────────────────────
